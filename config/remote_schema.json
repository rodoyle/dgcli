{
  "id": "http://www.deskgen.com/api/inventory/schema",
  "description": "schema for representing inventory items",
  "type": "object",
  "parse_order": [
    "organisation",
    "user",
    "dnafeaturepattern",
    "dnafeaturecategory",
    "dnafeature",
    "dnadesign",
    "dnamoleculesequence",
    "dnamolecule",
    "dnamoleculefile",
    "dnadesigndnafeature",
    "dnamoleculednafeature"
  ],
  "definitions": {
    "organisation": {
      "properties": {
        "id": "int",
        "domain": {
          "type": "string",
          "unique": true
        }
      },
      "identifier": ["domain"]
    },
    "user": {
      "properties": {
        "email": {
          "type": "string",
          "unique": true
        }
      },
      "requires": ["organisation"],
      "identifier": ["email"]
    },
    "dnamolecule": {
      "indentifier": ["organisation", "accession"],
      "requires": ["dnamoleculesequence"],
      "upload_url": "api/inventory/upload"
    },
    "dnamoleculefile": {
      "requires": ["dnamolecule"],
      "upload_url": "api/inventory/upload"
    },
    "dnamoleculesequence": {
      "properties": {
        "sha1": {
          "type": "string",
          "unique": true
        }
      },
      "identifier": ["sha1"]
    },
    "dnafeaturepattern": {
      "identifier": ["sha1"]
    },
    "dnafeaturecategory": {
      "identifier": ["name"]
    },
    "dnadesign": {
      "identifier": ["user", "sha1"],
      "upload_url": "uploadDesignFile"
    },
    "dnafeature":{
      "requires": ["dnafeaturepattern", "dnafeaturecategory"],
      "identifier": ["name"]
    },
    "dnamolecule_dnafeature": {
      "requires": ["dnamolecule", "dnafeature"],
      "identifier": ["dnamolecule", "dnafeature", "start", "end", "strand"]
    },
    "dnadesign_dnafeature": {
      "requires": ["dnadesign", "dnafeature"],
      "identifier": ["dnadesign", "dnafeature", "start", "end", "strand"]
    }
  }
}

